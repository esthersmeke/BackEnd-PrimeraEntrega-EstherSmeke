<!-- views/cart.handlebars -->
<h1>Carrito de Compras</h1>

<ul>
  {{#each cart.products}}
    <li>
      <h2>{{this.product.title}}</h2>
      <p>Precio: ${{this.product.price}}</p>
      <p>Cantidad: {{this.quantity}}</p>
      
      <form action="/api/carts/{{../cart._id}}/products/{{this.product._id}}" method="PUT">
        <label for="quantity">Actualizar Cantidad:</label>
        <input type="number" name="quantity" min="1" value="{{this.quantity}}">
        <button type="submit">Actualizar</button>
      </form>
      
      <form action="/api/carts/{{../cart._id}}/products/{{this.product._id}}" method="DELETE">
        <button type="submit">Eliminar</button>
      </form>
    </li>
  {{/each}}
</ul>

<a href="/products">Volver a Productos</a>

<!-- OpciÃ³n para vaciar el carrito completamente -->
<button onclick="clearCart('{{cart._id}}')">Vaciar carrito</button>

<script src="/js/cartActions.js"></script>
